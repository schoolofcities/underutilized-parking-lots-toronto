import{s as c,n,o as f}from"../chunks/scheduler.Cr_u2i_L.js";import{S as p,i as u,e as y,c as h,d as b,g as i,p as l,j as _,m as S,n as k,q as x,t as C,a as M,r as v}from"../chunks/index.Dx2_-pXq.js";import{m as a,P as L}from"../chunks/index.CqU0ylUb.js";import{C as $,S as P,B as T}from"../chunks/3dModels.Bmcwm1nz.js";const j=!0,K=Object.freeze(Object.defineProperty({__proto__:null,prerender:j},Symbol.toStringTag,{value:"Module"})),w="FeatureCollection",E="test-massing",z={type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},B=[{type:"Feature",properties:{id:1,height:35},geometry:{type:"MultiPolygon",coordinates:[[[[-79.37331631423824,43.66442071331393],[-79.37343135424527,43.66470405517449],[-79.37294386101598,43.66480763031623],[-79.37283061810443,43.66452871516722],[-79.37331631423824,43.66442071331393]]]]}}],O={type:w,name:E,crs:z,features:B};function R(r){let t;return{c(){t=y("div"),this.h()},l(o){t=h(o,"DIV",{id:!0,class:!0}),b(t).forEach(i),this.h()},h(){l(t,"id","map"),l(t,"class","svelte-15gv93t")},m(o,e){_(o,t,e)},p:n,i:n,o:n,d(o){o&&i(t)}}}let G="/underutilized-parking-lots-toronto/ParkingLotArea.pmtiles",I="/underutilized-parking-lots-toronto/toronto.pmtiles";function N(r){let t,o=new a.ScaleControl({maxWidth:100,unit:"metric"});const e=[[-79.7712,43.44],[-78.914763,43.93074]];return f(()=>{document.body.clientHeight;let s=new L;a.addProtocol("pmtiles",s.tile),t=new a.Map({container:"map",style:{version:8,name:"Empty",glyphs:"https://schoolofcities.github.io/fonts/fonts/{fontstack}/{range}.pbf",sources:{},layers:[{id:"background",type:"background",paint:{"background-color":"rgba(0,0,0,0)"}}]},center:[-79.3871,43.6426],zoom:15,pitch:60,maxPitch:85,maxZoom:20,minZoom:10,bearing:-17.1,projection:"globe",scrollZoom:!0,maxBounds:e,attributionControl:!0,antialias:!0});const m=['<a href="https://openstreetmap.org">OpenStreetMap</a>','<a href="https://open.toronto.ca/">City of Toronto </a>'].join(", ");t.addControl(o,"bottom-left"),t.addControl(new a.NavigationControl,"top-left");let d=T;t.on("load",function(){t.addSource("protomaps",{type:"vector",url:"pmtiles://"+I,attribution:m,attributionControl:!1}),d.forEach(g=>{t.addLayer(g)}),t.addSource("TestMassing",{type:"geojson",data:O}),t.addLayer({id:"TestMassingBlue",type:"fill-extrusion",source:"TestMassing",paint:{"fill-extrusion-color":"blue","fill-extrusion-height":["get","height"]}}),t.addLayer($),t.addLayer(P),t.addSource("parking",{type:"vector",url:"pmtiles://"+G}),t.addLayer({id:"parking-layer",type:"fill",source:"parking","source-layer":"parkinglotarea",paint:{"fill-color":"black"}})})}),[]}class Z extends p{constructor(t){super(),u(this,t,N,R,c,{})}}function q(r){let t,o;return t=new Z({}),{c(){S(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,s){x(t,e,s),o=!0},p:n,i(e){o||(C(t.$$.fragment,e),o=!0)},o(e){M(t.$$.fragment,e),o=!1},d(e){v(t,e)}}}class V extends p{constructor(t){super(),u(this,t,null,q,c,{})}}export{V as component,K as universal};
