import{s as c,n,d as i,i as f,p as l,f as y,h,l as b,A as _}from"../chunks/DETcudcM.js";import{S as p,i as u,d as S,t as k,a as x,m as C,c as M,b as v}from"../chunks/DCBnTq1z.js";import{m as a,P as L}from"../chunks/DJCCI6BO.js";import{B as $,C as P,S as T}from"../chunks/D1AQWZQ3.js";const w=!0,K=Object.freeze(Object.defineProperty({__proto__:null,prerender:w},Symbol.toStringTag,{value:"Module"})),j="FeatureCollection",E="test-massing",z={type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},B=[{type:"Feature",properties:{id:1,height:35},geometry:{type:"MultiPolygon",coordinates:[[[[-79.37331631423824,43.66442071331393],[-79.37343135424527,43.66470405517449],[-79.37294386101598,43.66480763031623],[-79.37283061810443,43.66452871516722],[-79.37331631423824,43.66442071331393]]]]}}],O={type:j,name:E,crs:z,features:B};function R(r){let t;return{c(){t=b("div"),this.h()},l(o){t=y(o,"DIV",{id:!0,class:!0}),h(t).forEach(i),this.h()},h(){l(t,"id","map"),l(t,"class","svelte-15gv93t")},m(o,e){f(o,t,e)},p:n,i:n,o:n,d(o){o&&i(t)}}}let A="/underutilized-parking-lots-toronto/ParkingLotArea.pmtiles",G="/underutilized-parking-lots-toronto/toronto.pmtiles";function I(r){let t,o=new a.ScaleControl({maxWidth:100,unit:"metric"});const e=[[-79.7712,43.44],[-78.914763,43.93074]];return _(()=>{document.body.clientHeight;let s=new L;a.addProtocol("pmtiles",s.tile),t=new a.Map({container:"map",style:{version:8,name:"Empty",glyphs:"https://schoolofcities.github.io/fonts/fonts/{fontstack}/{range}.pbf",sources:{},layers:[{id:"background",type:"background",paint:{"background-color":"rgba(0,0,0,0)"}}]},center:[-79.3871,43.6426],zoom:15,pitch:60,maxPitch:85,maxZoom:20,minZoom:10,bearing:-17.1,projection:"globe",scrollZoom:!0,maxBounds:e,attributionControl:!0,antialias:!0});const m=['<a href="https://openstreetmap.org">OpenStreetMap</a>','<a href="https://open.toronto.ca/">City of Toronto </a>'].join(", ");t.addControl(o,"bottom-left"),t.addControl(new a.NavigationControl,"top-left");let d=$;t.on("load",function(){t.addSource("protomaps",{type:"vector",url:"pmtiles://"+G,attribution:m,attributionControl:!1}),d.forEach(g=>{t.addLayer(g)}),t.addSource("TestMassing",{type:"geojson",data:O}),t.addLayer({id:"TestMassingBlue",type:"fill-extrusion",source:"TestMassing",paint:{"fill-extrusion-color":"blue","fill-extrusion-height":["get","height"]}}),t.addLayer(P),t.addLayer(T),t.addSource("parking",{type:"vector",url:"pmtiles://"+A}),t.addLayer({id:"parking-layer",type:"fill",source:"parking","source-layer":"parkinglotarea",paint:{"fill-color":"black"}})})}),[]}class N extends p{constructor(t){super(),u(this,t,I,R,c,{})}}function Z(r){let t,o;return t=new N({}),{c(){v(t.$$.fragment)},l(e){M(t.$$.fragment,e)},m(e,s){C(t,e,s),o=!0},p:n,i(e){o||(x(t.$$.fragment,e),o=!0)},o(e){k(t.$$.fragment,e),o=!1},d(e){S(t,e)}}}class V extends p{constructor(t){super(),u(this,t,null,Z,c,{})}}export{V as component,K as universal};
