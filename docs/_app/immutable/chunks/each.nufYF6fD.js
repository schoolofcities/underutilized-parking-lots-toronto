import{t as k}from"./index.Dx2_-pXq.js";import{r as q}from"./scheduler.Cr_u2i_L.js";const D=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function E(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function F(n,o){n.d(1),o.delete(n.key)}function G(n,o,S,z,T,y,c,x,p,A,w,j){let i=n.length,l=y.length,d=i;const a={};for(;d--;)a[n[d].key]=d;const f=[],u=new Map,g=new Map,b=[];for(d=l;d--;){const e=j(T,y,d),s=S(e);let t=c.get(s);t?b.push(()=>t.p(e,o)):(t=A(s,e),t.c()),u.set(s,f[d]=t),s in a&&g.set(s,Math.abs(d-a[s]))}const M=new Set,v=new Set;function m(e){k(e,1),e.m(x,w),c.set(e.key,e),w=e.first,l--}for(;i&&l;){const e=f[l-1],s=n[i-1],t=e.key,h=s.key;e===s?(w=e.first,i--,l--):u.has(h)?!c.has(t)||M.has(t)?m(e):v.has(h)?i--:g.get(t)>g.get(h)?(v.add(t),m(e)):(M.add(h),i--):(p(s,c),i--)}for(;i--;){const e=n[i];u.has(e.key)||p(e,c)}for(;l;)m(f[l-1]);return q(b),f}export{F as d,E as e,D as g,G as u};
